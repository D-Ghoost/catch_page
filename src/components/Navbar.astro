---
import { Image } from 'astro:assets';
import MenuHamburguer from './MenuHamburguer.astro';
import navbarLogo from '../images/layer1.png';

interface Props {
    title: string;
}

const className = {
    listNav :  'navbar__list'
}

const { title } = Astro.props;
---

<nav class="navbar">
    <div class="navbar__logo">
        <p>&lt</p>
        <h2> { title } </h2>
        <Image src={ navbarLogo } alt="logo_catch" />
        <p>&gt</p>
    </div>
    <div class="navbar__list">
        <ul>
            <li>Inicio</li>
            <li>Proyectos</li>
            <li>Contactos</li>
            <li>Â¿Quienes Somos?</li>
        </ul>
    </div>
    <MenuHamburguer id="navbar__menu-icon"/>
</nav>

<script>
    const navList = document.querySelector('.navbar__list');
    const menuIcon = document.querySelector('#navbar__menu-icon');
    const navbar = document.querySelector('.navbar');

    menuIcon.addEventListener('click', () => {
        navList.classList.toggle('hiden');
        console.log('Cambio ~v~');
    })

    window.addEventListener('resize',() =>{
        const hiddenMenuBurger = navList.classList.contains("hiden");
        if(window.innerWidth > 425 && hiddenMenuBurger){
            navList.classList.remove('hiden');
            console.log('welcome to desktop');
        }
        if(window.innerWidth <= 425 && !hiddenMenuBurger){
            navList.classList.add('hiden');
            console.log('welcome to mobile');
        }
    })

    window.onscroll = () =>{
        if(window.scrollY !== 0){
            navbar.classList.add('add-color');
        }else{
           navbar.classList.remove('add-color');
        }
        if(window.scrollY >= 1539 && screen.width >= 320 && screen.width <= 425 || window.scrollY >= 1599){
            console.warn('Se debe esconder');
            navbar.classList.add('hiden');
        }else{
            console.warn('Se debe mostrar');
            navbar.classList.remove('hiden');
        }
    }
</script>

<style>
    .navbar{
        height: 8vh;
        width: 100vw;
        padding: 10px 0px 10px 0px;
        position: fixed;
        display: flex; /* flex */
        justify-content: space-between;
        align-items: center;
        color: var(--main-color);
        background-color: transparent;
        z-index: 1;
    }

    .navbar__logo{
        display: flex;
        align-items: center;
        padding: 2dvw;
    }
    
    .navbar__logo h2{
        display: block;
    }

    .navbar__logo img{
        display: none;
    }

    .navbar__list ul{
        display: flex;
        list-style: none;
        align-items: center;
        padding: 2dvw;
    }

    .navbar__list li{
        margin: 0px 25px 0px 25px;
        font-weight: bold;
    }

    .add-color{
        background-color: var(--main-bg-color);
    }
    /* Mobile */
    @media (max-width: 425px) {

        .navbar{
            height: 12vmax;
            width: 100vw;
            position: fixed;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: transparent;
            color: var(--main-color);
            z-index: 1;
        }

        .navbar__logo h2{
            display: none;
        }

        .navbar__logo img{
            display: block;
        }

        #navbar__menu-icon{
            width: 8vmax;
        }

        .navbar__list {
            width: 100vw;
            height: 40vh;
            display: flex;
            position: fixed;   
            top: 8%;
            justify-content: center;
            background-color: transparent;
            z-index: 1;
        }

        .navbar__list ul{
            padding: 50px 0px 0px 0px;
            flex-direction: column;
            justify-content: space-around;
            align-items: center;
            height: 100%;
        }
    }

    .hiden{
        display: none;
    }

</style>